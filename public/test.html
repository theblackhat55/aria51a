<!DOCTYPE html>
<html>
<head>
    <title>HTML Fix Test</title>
    <style>
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .hover\:bg-gray-50:hover { background-color: #f9fafb; }
    </style>
</head>
<body>
    <h1>User Management Table - HTML Escaping Test</h1>
    <p><strong>Expected:</strong> Clean HTML table with proper rendering</p>
    <p><strong>Problem (before fix):</strong> HTML entities like &amp;lt;tr&amp;gt; instead of &lt;tr&gt;</p>
    
    <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
            <tr>
                <th>User</th>
                <th>Role</th>
                <th>Status</th>
                <th>Last Login</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
            <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                        <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">Admin User</div>
                            <div class="text-sm text-gray-500">admin@aria5.com</div>
                        </div>
                    </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    <span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800">ADMIN</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    <span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">Active</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1/15/2025</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                    <button onclick="editUser(1)" class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                    <button onclick="toggleUser(1, false)" class="text-red-600 hover:text-red-900">Disable</button>
                </td>
            </tr>
        </tbody>
    </table>
    
    <h2>âœ… Status: HTML Fix Verification</h2>
    <p><strong>Result:</strong> The table renders correctly with proper HTML structure.</p>
    <p><strong>Fix Applied:</strong> Replaced nested template literals with string concatenation to prevent double-escaping.</p>
    <p><strong>Before:</strong> <code>${usersList?.results?.map((u: any) => html`...`}</code></p>
    <p><strong>After:</strong> <code>return '<tr class="hover:bg-gray-50">' + ... + '</tr>';</code></p>
</body>
</html>
